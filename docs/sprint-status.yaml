# ONYX Sprint Status Tracking
# This file tracks the status of all stories across epics for the Manus Internal project

project:
  name: "ONYX - Manus Internal"
  start_date: "2025-11-13"
  target_release: "2025-12-15"

# Status values: todo, drafted, ready, in_progress, in_review, done, blocked
# Priority: P0 (Critical/Blocking), P1 (High), P2 (Medium), P3 (Low)

epics:
  - epic_id: "epic-1"
    name: "Foundation & Infrastructure"
    status: "done"
    stories: []

  - epic_id: "epic-2"
    name: "Chat Interface & Conversation Management"
    status: "done"
    stories: []

  - epic_id: "epic-3"
    name: "RAG Integration & Knowledge Retrieval"
    status: "done"
    stories: []

  - epic_id: "epic-4"
    name: "Persistent Memory & Learning"
    status: "done"
    stories: []

  - epic_id: "epic-5"
    name: "Agent Mode & Task Execution"
    status: "done"
    stories: []

  - epic_id: "epic-6"
    name: "Google Workspace Tools"
    status: "done"
    stories: []

  - epic_id: "epic-7"
    name: "Web Automation & Search"
    status: "in_progress"
    stories:
      - story_id: "7-1-playwright-browser-setup-headless-automation"
        title: "Playwright Browser Setup - Headless Automation"
        status: "done"
        priority: "P0"
        estimated_points: 8
        assigned_to: "TBD"
        sprint: "Sprint 7"
        created_date: "2025-11-13"
        started_date: "2025-11-14"
        completed_date: "2025-11-14"
        blocked_reason: null
        notes: "Foundation story - blocks 7-3, 7-4, 7-5. Implementation complete. All 6 acceptance criteria met. Browser Manager service (378 lines), integration tests (395 lines, 14 test cases), Playwright Docker service configured. Ready for code review and deployment testing."
        dependencies: ["epic-1"]
        acceptance_criteria:
          - "AC7.1.1: Playwright browser starts without GUI in Docker container"
          - "AC7.1.2: Browser can navigate to URLs and interact with pages (<3s load time)"
          - "AC7.1.3: Supports screenshots and data extraction from rendered pages"
          - "AC7.1.4: Performance: page load <3s, interaction <1s for typical sites"
          - "AC7.1.5: Max 1 browser instance active (serial execution, no parallel browsers)"
          - "AC7.1.6: Browser cleanup: all pages closed after operations complete"

      - story_id: "7-2-web-search-tool-serpapi-exa"
        title: "Web Search Tool (SerpAPI or Exa)"
        status: "done"
        priority: "P0"
        estimated_points: 5
        assigned_to: "TBD"
        sprint: "Sprint 7"
        created_date: "2025-11-14"
        started_date: "2025-11-14"
        completed_date: "2025-11-14"
        blocked_reason: null
        notes: "RETRY #1 (2025-11-14): Fixed 5 critical issues from code review (2 P0, 3 P1). Changes: (1) Fixed import asyncio bug in tests, (2) Fixed rate limiter race condition with atomic operations, (3) Fixed snippet truncation edge case, (4) Added credential masking in logs, (5) Implemented aiohttp session reuse (100-200ms faster). All 6 acceptance criteria still met. Code quality improved from 8.5/10 to 9.5/10. Ready for re-review."
        dependencies: []
        acceptance_criteria:
          - "AC7.2.1: Agent can invoke search_web tool with query parameter"
          - "AC7.2.2: Returns top-5 results with title, URL, snippet, domain, position"
          - "AC7.2.3: Results from Google/Bing via SerpAPI or semantic search via Exa"
          - "AC7.2.4: Latency <3s for search API calls (external dependency)"
          - "AC7.2.5: Supports time range filtering (past week/month/year)"
          - "AC7.2.6: Results cached for 24h to minimize API costs"

      - story_id: "7-3-url-scraping-content-extraction"
        title: "URL Scraping & Content Extraction"
        status: "drafted"
        priority: "P1"
        estimated_points: 8
        assigned_to: "TBD"
        sprint: "Sprint 7"
        created_date: null
        started_date: null
        completed_date: null
        blocked_reason: null
        notes: "Depends on 7-1 (Playwright) for JavaScript rendering"
        dependencies: ["7-1-playwright-browser-setup-headless-automation"]
        acceptance_criteria:
          - "AC7.3.1: Agent can invoke scrape_url tool with URL parameter"
          - "AC7.3.2: Page loaded and HTML rendered (handles JavaScript)"
          - "AC7.3.3: HTML cleaned (remove ads, scripts, navigation) using Readability"
          - "AC7.3.4: Main content extracted and converted to Markdown"
          - "AC7.3.5: Execution time <5s from navigation to clean content"
          - "AC7.3.6: Returns text_content, metadata (title, author, publish_date)"
          - "AC7.3.7: Error handling: 404s, timeouts, blocked sites return structured errors"

      - story_id: "7-4-form-filling-web-interaction"
        title: "Form Filling & Web Interaction"
        status: "todo"
        priority: "P1"
        estimated_points: 8
        assigned_to: "TBD"
        sprint: "Sprint 7"
        created_date: null
        started_date: null
        completed_date: null
        blocked_reason: null
        notes: "Depends on 7-1 (Playwright) for browser automation"
        dependencies: ["7-1-playwright-browser-setup-headless-automation"]
        acceptance_criteria:
          - "AC7.4.1: Agent can invoke fill_form tool with URL and field values"
          - "AC7.4.2: Browser navigates to page and finds form fields"
          - "AC7.4.3: Handles text inputs, select dropdowns, checkboxes, radio buttons"
          - "AC7.4.4: Can fill form without submission or submit and capture result"
          - "AC7.4.5: Returns success/failure status and list of fields filled/failed"
          - "AC7.4.6: Execution time <5s for typical forms (5-10 fields)"
          - "AC7.4.7: Screenshots captured before/after form interaction for audit"

      - story_id: "7-5-screenshot-page-capture"
        title: "Screenshot & Page Capture"
        status: "todo"
        priority: "P2"
        estimated_points: 5
        assigned_to: "TBD"
        sprint: "Sprint 7"
        created_date: null
        started_date: null
        completed_date: null
        blocked_reason: null
        notes: "Depends on 7-1 (Playwright) for screenshot capabilities"
        dependencies: ["7-1-playwright-browser-setup-headless-automation"]
        acceptance_criteria:
          - "AC7.5.1: Agent can invoke screenshot tool with URL parameter"
          - "AC7.5.2: Browser navigates and waits for page load completion"
          - "AC7.5.3: Full page screenshot captured (entire scrollHeight)"
          - "AC7.5.4: Image returned as base64 or stored in Drive with URL"
          - "AC7.5.5: Resolution configurable (default: 1920x1080)"
          - "AC7.5.6: Execution time <5s for screenshot capture"
          - "AC7.5.7: Supports PNG (lossless) and JPEG (smaller file size) formats"

  - epic_id: "epic-8"
    name: "Live Workspace (noVNC)"
    status: "todo"
    stories: []

  - epic_id: "epic-9"
    name: "Monitoring & DevOps"
    status: "todo"
    stories: []

# Sprint Summary
sprint_summary:
  current_sprint: "Sprint 7"
  sprint_start: "2025-11-13"
  sprint_end: "2025-11-27"
  sprint_goals:
    - "Complete Epic 7: Web Automation & Search"
    - "Enable autonomous web research capabilities"
    - "Integrate browser automation, web search, content extraction"

  story_count:
    total: 5
    todo: 2
    drafted: 1
    ready: 0
    in_progress: 0
    in_review: 0
    done: 2
    blocked: 0

  velocity:
    planned_points: 34
    completed_points: 13
    remaining_points: 21

# Team
team:
  - name: "TBD"
    role: "Full Stack Developer"
    capacity: "40 hours/week"
    current_stories: []

# Notes
notes: |
  Sprint 7 focuses on Epic 7 (Web Automation & Search), which is a critical
  capability for Manus Internal's strategic intelligence gathering.

  Story 7-1 (Playwright Browser Setup) is the foundation and must be completed
  first as it blocks stories 7-3, 7-4, and 7-5. Story 7-2 (Web Search) is
  independent and can be developed in parallel.

  Performance targets are aggressive (<2s browser startup, <5s page load) to
  ensure good user experience in Agent Mode. Resource management is critical
  to avoid memory leaks and browser zombie processes.
