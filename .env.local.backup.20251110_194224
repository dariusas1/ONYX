# =============================================================================
# ONYX Environment Variables - Production
# =============================================================================
# Production environment configuration
# Use this for production deployment
# =============================================================================
# 
# SECURITY WARNING:
# =================
# 1. ALL placeholder values MUST be replaced with actual secure values
# 2. Generate strong, unique passwords for all *_PASSWORD fields
# 3. Use a 32-byte hex string for ENCRYPTION_KEY (openssl rand -hex 32)
# 4. Generate a secure SESSION_SECRET (openssl rand -base64 32)
# 5. Never commit actual values to version control
# 6. Rotate secrets regularly in production
# 7. Use environment-specific OAuth2 client IDs and secrets
# =============================================================================

# Google OAuth2 Configuration
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}
GOOGLE_REDIRECT_URI=${GOOGLE_REDIRECT_URI:-https://yourdomain.com/api/auth/callback/google}

# LLM API Keys
TOGETHER_API_KEY=${TOGETHER_API_KEY}
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}

# Database Configuration
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
DATABASE_URL=postgresql://manus:${POSTGRES_PASSWORD}@postgres:5432/manus

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=${REDIS_PASSWORD}

# Qdrant Vector Database
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=${QDRANT_API_KEY}

# Encryption
ENCRYPTION_KEY=${ENCRYPTION_KEY}

# Monitoring
GRAFANA_PASSWORD=${GRAFANA_PASSWORD}

# Feature Flags
ENABLE_WORKSPACE=true
ENABLE_CODE_EXECUTION=true
ENABLE_GOOGLE_DRIVE=true
ENABLE_SLACK=true

# Development Settings
NODE_ENV=production
PYTHONPATH=/app

# SSL Configuration
SSL_CERT_PATH=./nginx/ssl/cert.pem
SSL_KEY_PATH=./nginx/ssl/key.pem

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90

# Logging Configuration
LOG_LEVEL=warn
LOG_FORMAT=json

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_WINDOW_MS=60000

# Session Management
SESSION_SECRET=${SESSION_SECRET}
SESSION_TIMEOUT_MS=1800000

# API Configuration
API_TIMEOUT_MS=30000
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY_MS=1000

# File Upload Limits
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,md

# Background Jobs
BULLMQ_CONCURRENCY=2
SYNC_INTERVAL_MINUTES=30

# Docker Configuration
COMPOSE_PROJECT_NAME=onyx-production
COMPOSE_FILE=docker-compose.yaml

# Production Overrides
COMPOSE_OVERRIDE_FILE=docker-compose.production.yml

# =============================================================================
# Production Environment Notes:
# =============================================================================
# - WARN level logging for production monitoring
# - Strict rate limits for security
# - Smaller file upload limits for resource management
# - Longer backup retention for compliance
# - Reduced background job concurrency for stability
# =============================================================================